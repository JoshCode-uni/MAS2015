\chapter{Design of an Agent System}

A solid strategy is one of the most important aspects of this project, if not the most important. It does not matter if your code is extremely fast, as long as it is not performing a good strategy, it will mean an (almost) certain lose. In this chapter, we will explain and justify our strategy, discussing both the division of roles and the behaviour of individual agents.

\section{System Structure}
Our system has three distinct roles for our four in-game agents:

\begin{enumerate}
\item The first being the \emph{Flag Carrier}, designed to be optimal in retrieving and capturing the enemy flag. Once the flag has been captured, the \emph{ Flag Carrier} will often be defended by one of the \emph{Roamers}, for added security.

\item The second is the \emph{Flag Defender}, designed to defend our flag and home base. If our flag has been captured, he should chase the enemy flag carrier and re-capture the flag if he knows where the flag is. 

\item The final role is the \emph{Roamer}, a class which will be assigned to two of the bots. They are designed to cross the entire map, constantly improving themselves by collecting weapons, health and armour and disrupting the enemy team. Additionally, they can capture the flag if they are powerful enough, return our flag whenever it is stolen, or protect the flag carrier when he is in possession of the flag.
\end{enumerate}

Besides roles assigned to the actual bots, a fourth rolewas created, called \emph{the Overlord}. \emph{The Overlord} does not control a bot and as such does not directly participate in the game. He can be seen as a commander, keeping track of where the flag is and assigning different roles to the bots in the game.\\

\paragraph{Justification}
We chose these four roles to divide the work that needs to be done in order to win the match.

\begin{enumerate}
\item[Carrier] We wanted a dedicated role that would be concerned with getting the enemy flag, whatever it may take without distractions. We believe that in this way, our bots will consistently keep scoring points.

\item[Defender] We also wanted a dedicated role that would stay with our flag so that the enemy team will have a hard time capturing our flag. He also chases the enemy flag carrier so that we keep track of his location for a short while, so that the \emph{Roamer} agents will know where to look for the enemy flag carrier if the \emph{Defender} cannot take him out.

\item[Roamer] Finally we had two agents left to assign a role. We think it is best to let two agents roam the map so that if our flag is captured and the \emph{Defender} could not stop them, we have two agents who are really powerful, for they have been gathering armour, weapons and health, who can easily take down the enemy flag carrier.

\item[Overlord] \emph{The Overlord} allows us to communicate efficiently in the team, with every bot sending and receiving only to and from a single entity, thereby decreasing the total number of messages (which has a significant impact on speed). Besides this, the overlord knows which bots are alive at any minute, meaning that it can dynamically swap their roles, something which could also happen if a roamer or flag defender has captured the flag.
\end{enumerate} 

\section{Strategy of the Agent Team}
Our strategy starts with a defender and an attacker. The attacker simply tries to grab the flag and return it, while the defender roams around his own base, collecting close-by pickups. As soon as our flag is stolen, the defender will go to his own base once again, in hopes of catching or spotting the enemy. If he has reached his base and no enemy is seen, he will go to the enemy base, laying an ambush.

The two bots are complemented by two roamers, who collect as many pickups as they can, after which they will charge the enemy base. They are also helpful at returning the flag once it has been stolen, as they are usually much stronger than the normal bots.

All of this is overseen by the Overlord, which can dynamically switch roles, or even change the number of bots of each class. He also keeps track of where the flag is if one of the bots sees it, sending other bots there as well.\\

\paragraph{Weapons}
As mentioned earlier in the report, our bots will choose their weapons according to the distance to the enemy. The list is compiled based on various aspects of the weapons, the prime characteristic being the damage per second. The preferences are as follows: \\

\begin{tabular}{| l | l | l |}
  Close & Mid & Far\\
  link gun (primary) & flak cannon (primary) & stinger minigun (primary)\\
  flak cannon (primary) & stinger minigun (primary) & shock rifle (primary)\\
  stinger minigun (primary) & shock rifle (primary) & \\
\end{tabular} \\
\\
\\
Besides this, a list of preferred weapons to collect was also compiled. The higher a weapon is on the list, the more desirable it is. This list is more subjective and was based on personal preference, after which it has been tweaked during various test runs.

\begin{itemize}
	\item Flak cannon
	\item Stinger minigun
	\item Link gun
	\item Shock rifle
	\item Rocket launcher
	\item Biorifle
	\item Sniper rifle
\end{itemize}